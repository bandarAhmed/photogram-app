{"ast":null,"code":"import React,{createContext,useEffect,useState}from'react';import{Storage}from'@capacitor/storage';// create context to use  here u wnat\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();function AuthContextProvider(props){const[jwt,setJwt]=useState('');const[loggedIn,setLoggedIn]=useState(false);const[postId,setPostId]=useState();useEffect(()=>{getAuthenticated();},[]);const getAuthenticated=async()=>{try{const accessToken=await Storage.get({key:'accessToken'});if(accessToken.value){setJwt(accessToken.value);setLoggedIn(true);}else{setLoggedIn(false);}}catch(e){console.log(e);}};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{jwt,setJwt,loggedIn,setLoggedIn,postId,setPostId},children:props.children});}export default AuthContextProvider;","map":{"version":3,"names":["React","createContext","useEffect","useState","Storage","jsx","_jsx","AuthContext","AuthContextProvider","props","jwt","setJwt","loggedIn","setLoggedIn","postId","setPostId","getAuthenticated","accessToken","get","key","value","e","console","log","Provider","children"],"sources":["C:/Users/baaan/Desktop/Photogram/photogramclient/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react'\r\nimport { Storage } from '@capacitor/storage';\r\n\r\n// create context to use  here u wnat\r\nexport const AuthContext  = createContext();\r\n\r\nfunction AuthContextProvider(props) {\r\n\r\n    const [jwt , setJwt] = useState('');\r\n    const [loggedIn, setLoggedIn] = useState(false)\r\n    const [postId, setPostId] = useState()\r\n\r\n    useEffect(()=>{\r\n        getAuthenticated()\r\n    },[])\r\n    \r\n    const getAuthenticated = async () => {\r\n        try {\r\n            const accessToken = await Storage.get({key: 'accessToken'})\r\n            if(accessToken.value){\r\n                setJwt(accessToken.value)\r\n                setLoggedIn(true)\r\n            }else{\r\n                setLoggedIn(false)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{jwt, setJwt, loggedIn, setLoggedIn, postId ,setPostId}}>\r\n        {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default AuthContextProvider"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACjE,OAASC,OAAO,KAAQ,oBAAoB,CAE5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,MAAO,MAAM,CAAAC,WAAW,cAAIN,aAAa,CAAC,CAAC,CAE3C,QAAS,CAAAO,mBAAmBA,CAACC,KAAK,CAAE,CAEhC,KAAM,CAACC,GAAG,CAAGC,MAAM,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACW,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAEtCD,SAAS,CAAC,IAAI,CACVc,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAC,EAAE,CAAC,CAEL,KAAM,CAAAA,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACA,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAb,OAAO,CAACc,GAAG,CAAC,CAACC,GAAG,CAAE,aAAa,CAAC,CAAC,CAC3D,GAAGF,WAAW,CAACG,KAAK,CAAC,CACjBT,MAAM,CAACM,WAAW,CAACG,KAAK,CAAC,CACzBP,WAAW,CAAC,IAAI,CAAC,CACrB,CAAC,IAAI,CACDA,WAAW,CAAC,KAAK,CAAC,CACtB,CACJ,CAAE,MAAOQ,CAAC,CAAE,CACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAClB,CACJ,CAAC,CAEH,mBACEf,IAAA,CAACC,WAAW,CAACiB,QAAQ,EAACJ,KAAK,CAAE,CAACV,GAAG,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAW,CAAEC,MAAM,CAAEC,SAAS,CAAE,CAAAU,QAAA,CAChFhB,KAAK,CAACgB,QAAQ,CACG,CAAC,CAE3B,CAEA,cAAe,CAAAjB,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}