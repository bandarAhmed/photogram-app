{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import'./Allpost.css';import axios from'axios';import{CircularProgress}from'@mui/material';import{useHistory}from'react-router-dom/cjs/react-router-dom.min';import{AuthContext}from'../../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Allpost(){const[images,setImages]=useState([]);const[loading,setLoading]=useState(false);const{setPostId}=useContext(AuthContext);useEffect(()=>{getPost();},[]);const history=useHistory();const getPost=async()=>{try{setLoading(true);const response=await axios.get('http://localhost:4000/get-all-post');const SaveToimg=response.data.data.map(item=>item.img);setImages(SaveToimg);setLoading(false);}catch(e){console.log(e);setLoading(false);}};const handleClick=async index=>{const response=await axios.get('http://localhost:4000/get-all-post');setPostId(response.data.data[index]._id);history.push('/post/get-post');};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:70,sx:{position:\"fixed\",left:\"50%\",top:\"50%\",transform:\"translate(-50%, -50%)\",zIndex:2}}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"fullscrean\",children:/*#__PURE__*/_jsx(\"div\",{className:\"post-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"images\",children:images.map((img,index)=>/*#__PURE__*/_jsx(\"img\",{onClick:()=>handleClick(index),alt:\"Error\",src:img},index)).reverse()})})})})});}export default Allpost;","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","CircularProgress","useHistory","AuthContext","jsx","_jsx","Fragment","_Fragment","Allpost","images","setImages","loading","setLoading","setPostId","getPost","history","response","get","SaveToimg","data","map","item","img","e","console","log","handleClick","index","_id","push","children","size","sx","position","left","top","transform","zIndex","className","onClick","alt","src","reverse"],"sources":["C:/Users/baaan/Desktop/Photogram/photogramclient/src/pages/allposts/Allpost.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport './Allpost.css'\r\nimport axios from 'axios';\r\nimport { CircularProgress } from '@mui/material';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { AuthContext } from '../../context/AuthContext';\r\n\r\nfunction Allpost() {\r\n    const [images, setImages] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const { setPostId } = useContext(AuthContext)\r\n\r\n    useEffect(() => {\r\n        getPost()\r\n    }, []);\r\n\r\n    const history = useHistory();\r\n    \r\n    const getPost = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const response = await axios.get('http://localhost:4000/get-all-post')\r\n            const SaveToimg = response.data.data.map(item => item.img);\r\n            setImages(SaveToimg)\r\n            setLoading(false)\r\n        } catch (e) {\r\n            console.log(e)\r\n            setLoading(false)\r\n        }\r\n    }\r\n    const handleClick = async (index)=>{\r\n        const response = await axios.get('http://localhost:4000/get-all-post')\r\n        setPostId(response.data.data[index]._id)\r\n        history.push('/post/get-post')\r\n    }\r\n    return (\r\n        <>\r\n            {\r\n            loading ? <CircularProgress size={70}\r\n                sx={{\r\n                    position: \"fixed\",\r\n                    left: \"50%\",\r\n                    top: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: 2\r\n                    }} />\r\n                    :\r\n                    <>\r\n                        <div className='fullscrean'>\r\n                            <div className='post-container'>\r\n                                <div className='images'>\r\n                                    {\r\n                                        images.map((img, index) => (\r\n                                            <img onClick={()=> handleClick(index)}  key={index} alt='Error' src={img} />\r\n                                        )).reverse()\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Allpost"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,eAAe,CACtB,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,gBAAgB,KAAQ,eAAe,CAChD,OAASC,UAAU,KAAQ,2CAA2C,CACtE,OAASC,WAAW,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExD,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAEc,SAAU,CAAC,CAAGhB,UAAU,CAACM,WAAW,CAAC,CAE7CL,SAAS,CAAC,IAAM,CACZgB,OAAO,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,OAAO,CAAGb,UAAU,CAAC,CAAC,CAE5B,KAAM,CAAAY,OAAO,CAAG,KAAAA,CAAA,GAAY,CACxB,GAAI,CACAF,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,oCAAoC,CAAC,CACtE,KAAM,CAAAC,SAAS,CAAGF,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACC,GAAG,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,CAAC,CAC1DZ,SAAS,CAACQ,SAAS,CAAC,CACpBN,UAAU,CAAC,KAAK,CAAC,CACrB,CAAE,MAAOW,CAAC,CAAE,CACRC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CACdX,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CACD,KAAM,CAAAc,WAAW,CAAG,KAAO,CAAAC,KAAK,EAAG,CAC/B,KAAM,CAAAX,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,oCAAoC,CAAC,CACtEJ,SAAS,CAACG,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACQ,KAAK,CAAC,CAACC,GAAG,CAAC,CACxCb,OAAO,CAACc,IAAI,CAAC,gBAAgB,CAAC,CAClC,CAAC,CACD,mBACIxB,IAAA,CAAAE,SAAA,EAAAuB,QAAA,CAEInB,OAAO,cAAGN,IAAA,CAACJ,gBAAgB,EAAC8B,IAAI,CAAE,EAAG,CACjCC,EAAE,CAAE,CACAC,QAAQ,CAAE,OAAO,CACjBC,IAAI,CAAE,KAAK,CACXC,GAAG,CAAE,KAAK,CACVC,SAAS,CAAE,uBAAuB,CAClCC,MAAM,CAAE,CACR,CAAE,CAAE,CAAC,cAELhC,IAAA,CAAAE,SAAA,EAAAuB,QAAA,cACIzB,IAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAR,QAAA,cACvBzB,IAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAR,QAAA,cAC3BzB,IAAA,QAAKiC,SAAS,CAAC,QAAQ,CAAAR,QAAA,CAEfrB,MAAM,CAACW,GAAG,CAAC,CAACE,GAAG,CAAEK,KAAK,gBAClBtB,IAAA,QAAKkC,OAAO,CAAEA,CAAA,GAAKb,WAAW,CAACC,KAAK,CAAE,CAAca,GAAG,CAAC,OAAO,CAACC,GAAG,CAAEnB,GAAI,EAA5BK,KAA8B,CAC9E,CAAC,CAACe,OAAO,CAAC,CAAC,CAEf,CAAC,CACL,CAAC,CACL,CAAC,CACR,CAAC,CAEb,CAAC,CAEX,CAEA,cAAe,CAAAlC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}