{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\baaan\\\\Desktop\\\\Photogram\\\\photogramclient\\\\src\\\\pages\\\\post\\\\postImg.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from '../../context/AuthContext';\nimport { Storage } from '@capacitor/storage';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\n// import imagess from '../../components/images/Annotation 2024-01-23 201729.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PostImg() {\n  _s();\n  const [title, setTitle] = useState('');\n  const [discraption, setDiscraption] = useState('');\n  const [images, setImages] = useState([]);\n  const [name, setName] = useState('');\n  const [avatar, setAvatar] = useState('');\n  const [like, setLike] = useState(false);\n  const [postId, setPostId] = useState('');\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const {\n    jwt\n  } = useContext(AuthContext);\n  useEffect(() => {\n    getData();\n  }, []);\n  const PostLike = async () => {\n    try {\n      const response = await axios.post(`http://localhost:4000/post/${postId}/like`, {\n        like: true\n      }, {\n        headers: {\n          Authorization: jwt\n        }\n      });\n      const responseData = response.data;\n      setLike(responseData.like);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const getData = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`http://localhost:4000/post/${postId}/get-post`);\n      const postData = response.data.data;\n      setName(postData.author.name);\n      setImages(postData.img);\n      setAvatar(postData.author.avatar);\n      setDiscraption(postData.discraption);\n      setTitle(postData.title);\n      setLike(postData.like); // Assuming the API returns like status\n      setPostId(postData._id);\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: avatar,\n        alt: \"null\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: images,\n        alt: \"null\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: discraption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => PostLike(),\n        disabled: loading,\n        children: like ? /*#__PURE__*/_jsxDEV(\"i\", {\n          style: {\n            color: 'red'\n          },\n          className: \"fa-solid fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa-regular fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 98\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(PostImg, \"DONU8mnzG34TxHjExjAY9EKgAAo=\", false, function () {\n  return [useHistory];\n});\n_c = PostImg;\nexport default PostImg;\nvar _c;\n$RefreshReg$(_c, \"PostImg\");","map":{"version":3,"names":["React","useContext","useEffect","useState","axios","AuthContext","Storage","useHistory","jsxDEV","_jsxDEV","PostImg","_s","title","setTitle","discraption","setDiscraption","images","setImages","name","setName","avatar","setAvatar","like","setLike","postId","setPostId","loading","setLoading","history","jwt","getData","PostLike","response","post","headers","Authorization","responseData","data","error","console","log","get","postData","author","img","_id","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","disabled","style","color","className","_c","$RefreshReg$"],"sources":["C:/Users/baaan/Desktop/Photogram/photogramclient/src/pages/post/postImg.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { Storage } from '@capacitor/storage';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\n// import imagess from '../../components/images/Annotation 2024-01-23 201729.png';\r\n\r\n\r\nfunction PostImg() {\r\n    const [title, setTitle] = useState('');\r\n    const [discraption, setDiscraption] = useState('');\r\n    const [images, setImages] = useState([]);\r\n    const [name, setName] = useState('');\r\n    const [avatar, setAvatar] = useState('');\r\n    const [like, setLike] = useState(false);\r\n    const [postId, setPostId] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n    const { jwt } = useContext(AuthContext);\r\n\r\n    useEffect(() => {\r\n        getData();\r\n    }, []);\r\n\r\n    const PostLike = async () => {\r\n        try {\r\n            const response = await axios.post(`http://localhost:4000/post/${postId}/like`, { like: true }, {\r\n                headers: {\r\n                    Authorization: jwt\r\n                }\r\n            });\r\n\r\n            const responseData = response.data;\r\n            setLike(responseData.like);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    const getData = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await axios.get(`http://localhost:4000/post/${postId}/get-post`);\r\n            const postData = response.data.data;\r\n            \r\n            setName(postData.author.name);\r\n            setImages(postData.img);\r\n            setAvatar(postData.author.avatar);\r\n            setDiscraption(postData.discraption);\r\n            setTitle(postData.title);\r\n            setLike(postData.like); // Assuming the API returns like status\r\n            setPostId(postData._id);\r\n\r\n            setLoading(false);\r\n        } catch (error) {\r\n            console.log(error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {loading ? (\r\n                <p>Loading...</p>\r\n            ) : (\r\n                <div>\r\n                    <img src={avatar} alt='null' />\r\n                    <p>{name}</p>\r\n                    <img src={images} alt='null' />\r\n                    <p>{title}</p>\r\n                    <p>{discraption}</p>\r\n                    <p onClick={() => PostLike()} disabled={loading}>\r\n                        {like ? <i style={{ color: 'red' }} className=\"fa-solid fa-heart\"></i> : <i className=\"fa-regular fa-heart\"></i>}\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostImg;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}